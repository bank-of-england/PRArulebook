---
title: "Introduction to PRArulebook package"
author: "Eryk Walczak"
date: "`r Sys.Date()`" 
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Introduction-to-PRA-rulebook}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(PRArulebook)
```

Get the structure:

```{r}
sectors <- scrape_sector_structure("http://www.prarulebook.co.uk/rulebook/Home/Handbook/22-03-2006")
parts <- scrape_part_structure(sectors)
```

This is quite large so only small parts were scraped.

See what was scraped:

```{r}
dplyr::glimpse(parts)
```


Visualise the structure:

```{r}
library(collapsibleTree)

Handbook <- parts

collapsibleTree(
  Handbook,
  hierarchy = c("sector_name", "part_name"),
  width = 800,
  height = 1100,
  zoomable = FALSE,
  collapsed = FALSE
)
```


